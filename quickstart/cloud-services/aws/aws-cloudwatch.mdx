---
title: "AWS CloudWatch"
description: "CloudWatch in Hoop simplifies AWS log analysis by providing direct access to log groups with automatic environment variable setup and an optimized interface for log exploration."
category: "cloud-services"
---

import { ConnectionTemplate } from '/snippets/connection-template.jsx';

<ConnectionTemplate config={{
  "id": "aws-cloudwatch",
  "name": "AWS CloudWatch",
  "description": "CloudWatch in Hoop simplifies AWS log analysis by providing direct access to log groups with automatic environment variable setup and an optimized interface for log exploration.",
  "category": "cloud-services",
  "icon-name": "aws",
  "tags": [
    "aws",
    "monitoring",
    "logs",
    "metrics"
  ],
  "isNew": false,
  "features": {
    "tlsTerminationProxy": {
      "native": false,
      "oneOff": true
    },
    "audit": {
      "native": false,
      "oneOff": true
    },
    "dataMaskingGoogleDLP": {
      "native": false,
      "oneOff": true
    },
    "dataMaskingMSPresidio": {
      "native": false,
      "oneOff": true
    },
    "credentialsOffload": {
      "native": false,
      "oneOff": true
    },
    "interactiveAccess": {
      "native": false,
      "oneOff": false
    }
  },
  "gatewayInformation": {
    "type": "cloud-service",
    "subtype": "aws-cloudwatch",
    "credentials": {
      "aws_access_key_id": {
        "name": "AWS_ACCESS_KEY_ID",
        "type": "env-var",
        "required": true,
        "description": "The AWS access key ID for CloudWatch Logs accesss"
      },
      "aws_secret_access_key": {
        "name": "AWS_SECRET_ACCESS_KEY",
        "type": "env-var",
        "required": true,
        "description": "The AWS secret access key for CloudWatch Logs access"
      },
      "aws_region": {
        "name": "AWS_REGION",
        "type": "env-var",
        "required": true,
        "description": "The AWS region where your CloudWatch log groups are located (e.g., us-east-1, eu-west-1)"
      }
    }
  },
  "documentationConfig": {
    "path": "quickstart/cloud-services/aws/aws-cloudwatch"
  }
}} />
## Connection Setup

The flag `--type custom/cloudwatch` allows displaying the introspection schema in the web interface.

```bash
hoop admin create conn my-cloudwatch -a <agent-name> \
    --type custom/cloudwatch \
    --overwrite \
    --schema=enabled \
    --skip-validation \
    -e AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE \
    -e AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY \
    -e AWS_REGION=us-west-2 \
    -- bash
```

<Warning>
    Currently, CloudWatch connections cannot be **created** through the web interface.
    Use the CLI command above to create the connection, then it will be available in the web app for use.
</Warning>

## Connection Usage

### CLI

```bash
hoop exec my-cloudwatch \
  -i 'aws logs filter-log-events --log-group-name /aws/lambda/my-function'
```

### Web panel

When you select a log group in the interface, the terminal will propagate the name as `LOG_GROUP_NAME` environment variable, allowing you to use it in your scripts.
The example above shows the variable being used in a script to filter events from the `/aws/lambda/my-function` log group.

<Frame>
    <img src="/images/aws/client-aws-cloudwatch.png" alt="cloudwatch screenshot" />
</Frame>



