---
title: "Apache Cassandra"
description: "Execute queries to a Cassandra cluster with [cqlsh](https://cassandra.apache.org/doc/latest/cassandra/tools/cqlsh.html)."
---

import Prerequisites from '/snippets/QuickstartsPrerequisites.mdx';

<Prerequisites />

## Features

The table below outlines the features available for this type of connection.

- **Native** - This refers to when a database client connects through a specific protocol, such as an IDE or client libraries through `hoop connect <connection-name>`.
- **One Off -** This term refers to accessing this connection from hoop web panel.

| Feature | Native | One Off | Description |
| --- | --- | --- | --- |
| TLS Termination Proxy | <Icon icon="xmark" /> | <Icon icon="check" /> | The local proxy terminates the connection with TLS, enabling the connection with the remote server to be TLS encrypted. |
| Audit | <Icon icon="xmark" /> | <Icon icon="check" /> | The gateway stores and audits the queries being issued by the client |
| Data Masking (Google DLP) | <Icon icon="xmark" /> | <Icon icon="check" /> | A policy can be enabled to mask sensitive fields dynamically when performing queries in the database. |
| Data Masking (MS Presidio DLP) | <Icon icon="xmark" /> | <Icon icon="check" /> | A policy can be enabled to mask sensitive fields dynamically when performing queries in the database. |
| Credentials Offload | <Icon icon="xmark" /> | <Icon icon="check" /> | The user authenticates via SSO instead of using the service credentials. |
| Interactive Access | <Icon icon="xmark" /> | <Icon icon="check" /> | Interactive access is available when using an IDE or connecting via a terminal for analysis exploration. |

## Configuration

| Name | Required | Description |
| --- | --- | --- |
| CQLSH_KEYSPACE | yes | The keyspace target |
| CQLSH_HOST | yes | The host of the Cassandra cluster |
| CQLSH_PORT | no | The Vault Token. Defaults to 9043 |
| CQLSH_USER | no | The user can connect in the Cassandra cluster. |
| CQLSH_PASSWD | no | The password to connect in the Cassandra cluster. |

## Connection Setup

```bash
hoop admin create conn my-cqlsh-test -a <agent> \
  -e CQLSH_KEYSPACE=<keyspace> \
  -e CQLSH_HOST=<host> \
  -e CQLSH_USER=<user> \
  -e CQLSH_PASSWD=<user> \
 -- cqlsh
```

## Connection Usage

```bash
hoop exec my-cqlsh-test -i 'SELECT * FROM table1;'
```
